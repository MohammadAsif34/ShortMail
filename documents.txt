üîπ Step 1: Define Features for ShortMail

Basic email clone features:

1. Authentication
    ‚Ä¢ Register
    ‚Ä¢ Login
    ‚Ä¢ Logout
    ‚Ä¢ Protected profile

2. Inbox
    ‚Ä¢ Fetch received emails
    ‚Ä¢ Mark as read/unread
    ‚Ä¢ Delete email
    ‚Ä¢ Compose / Send Mail
    ‚Ä¢ Send email

3. Save draft (optional)
    ‚Ä¢ Add attachments (optional)
    ‚Ä¢ Sent / Drafts / Trash
    ‚Ä¢ View sent emails
    ‚Ä¢ View drafts
    ‚Ä¢ Move to trash
    
4. Optional Extras
    ‚Ä¢ Search emails
    ‚Ä¢ Star / important flag
    ‚Ä¢ Folder management


1Ô∏è‚É£ Auth Routes
+ ------ + -------------------- + ------------------------- + ---------------------------- +
| Method | Endpoint             | Body / Query              | Description                  |
+ ------ + -------------------- + ------------------------- + ---------------------------- +
| POST   | `/api/auth/register` | `{name, email, password}` | Register user                |
| POST   | `/api/auth/login`    | `{email, password}`       | Login user                   |
| GET    | `/api/auth/me`       | -                         | Get current user (protected) |
+ ------ + -------------------- + ------------------------- + ---------------------------- +

2Ô∏è‚É£ Mail Routes
| Method | Endpoint             | Body / Query                | Description                     |
| ------ | -------------------- | --------------------------- | ------------------------------- |
| POST   | `/api/mail/send`     | `{to, subject, text, html}` | Send an email                   |
| GET    | `/api/mail/inbox`    | -                           | Get received emails (protected) |
| GET    | `/api/mail/sent`     | -                           | Get sent emails (protected)     |
| GET    | `/api/mail/:id`      | -                           | Get email by ID                 |
| DELETE | `/api/mail/:id`      | -                           | Delete email                    |
| PUT    | `/api/mail/:id/read` | -                           | Mark email as read              |
| PUT    | `/api/mail/:id/star` | -                           | Mark email as starred           |

3Ô∏è‚É£ Optional: Drafts
| Method | Endpoint           | Body                        | Description    |
| ------ | ------------------ | --------------------------- | -------------- |
| POST   | `/api/mail/draft`  | `{to, subject, text, html}` | Save draft     |
| GET    | `/api/mail/drafts` | -                           | Get all drafts |

4Ô∏è‚É£ Middleware
protect ‚Üí protect routes
authMiddleware ‚Üí check JWT
Optional: roleMiddleware ‚Üí if you want admin/user roles

user-model
{
  name: String,
  email: String,
  password: String, // hashed
  createdAt: Date
}

mail-model
{
  from: ObjectId(User),
  to: [String],
  subject: String,
  text: String,
  html: String,
  read: Boolean,
  starred: Boolean,
  createdAt: Date,
  deleted: Boolean // for trash
}

